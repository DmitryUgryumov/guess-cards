{"version":3,"sources":["Components/Context/Context.jsx","img/1.png","img/2.png","img/3.png","img/4.png","img/5.png","img/6.png","img/7.png","img/8.png","Components/GameCard/CardItem.jsx","Components/GameCard/CardList.jsx","Components/GameStart/StartGame.jsx","Components/GameStart/GameRestart.jsx","Components/GameResult/GameResultItem.jsx","Components/GameResult/GameResult.jsx","Components/Modal/Modal.jsx","App.js","index.js"],"names":["Context","React","createContext","img","imgOne","imgTwo","imgThree","imgFour","imgFive","imgSix","imgSeven","imgEight","CardItem","src","style","disabled","gameState","checkActiveCard","useContext","vis","type","className","onClick","id","alt","parseInt","visibility","CardList","props","map","item","StartGame","setStartGame","GameRestart","gameRestart","GameResultItem","number","name","move","deleteResult","color","fontWeight","GameResult","gameResult","deleteAllResult","length","index","Modal","addResult","useState","setName","onSubmit","e","preventDefault","value","autoFocus","onChange","target","placeholder","shuffle","array","i","j","Math","floor","random","App","imgSrc","setImgSrc","background","setGameState","startGame","endGame","setEndGame","activeCard","setActiveCard","guessedCard","setGuessedCard","listPointerStyle","setListPointerStyle","moveCount","setMoveCount","JSON","parse","localStorage","setGameResult","modal","setModal","useEffect","setItem","stringify","prev","includes","border","setTimeout","transform","pointerEvents","Provider","cardId","filter","Date","sort","a","b","newImg","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5f5eaf2d.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Context = React.createContext()\r\n\r\nexport default Context","export default __webpack_public_path__ + \"static/media/1.fa178bc8.png\";","export default __webpack_public_path__ + \"static/media/2.88b2ff20.png\";","export default __webpack_public_path__ + \"static/media/3.bf530db1.png\";","export default __webpack_public_path__ + \"static/media/4.2573326b.png\";","export default __webpack_public_path__ + \"static/media/5.3fbe9716.png\";","export default __webpack_public_path__ + \"static/media/6.bad3e4b4.png\";","export default __webpack_public_path__ + \"static/media/7.82008915.png\";","export default __webpack_public_path__ + \"static/media/8.749e2220.png\";","import React, { useContext } from 'react';\r\nimport Context from '../Context/Context';\r\n\r\nimport imgOne from '../../img/1.png'\r\nimport imgTwo from '../../img/2.png'\r\nimport imgThree from '../../img/3.png'\r\nimport imgFour from '../../img/4.png'\r\nimport imgFive from '../../img/5.png'\r\nimport imgSix from '../../img/6.png'\r\nimport imgSeven from '../../img/7.png'\r\nimport imgEight from '../../img/8.png'\r\n\r\nconst img = {\r\n  1: imgOne,\r\n  2: imgTwo,\r\n  3: imgThree,\r\n  4: imgFour,\r\n  5: imgFive,\r\n  6: imgSix,\r\n  7: imgSeven,\r\n  8: imgEight\r\n}\r\n\r\n/*window.location.origin + '/img/' + src*/\r\nconst CardItem = ({ src, style, disabled, gameState }) => {\r\n  const { checkActiveCard } = useContext(Context)\r\n  const vis = disabled ? 'visible' : 'hidden'\r\n\r\n  const checkCards = () => checkActiveCard(gameState.id, src)\r\n\r\n  return (\r\n    <button type='button' disabled={disabled} className='game__item' onClick={checkCards} style={style}>\r\n      <img alt='NBA' className='game__item-img' src={ img[parseInt(src)] } style={{ visibility:vis }}/>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default CardItem;","import React from 'react';\r\nimport CardItem from \"./CardItem\";\r\n\r\nconst CardList = (props) => {\r\n  return (\r\n    <div className='game' style={props.style}>\r\n      {\r\n        props.gameState.map(item =>{\r\n          return <CardItem key={item.id} src={item.src} style={item.style} disabled={item.disabled} gameState={item}/>\r\n        })\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardList;","import React from 'react';\r\n\r\nconst StartGame = ({ setStartGame }) => {\r\n  return (\r\n    <button className='game__button game__button_start' onClick={ () => setStartGame(true) }>\r\n      Начать игру\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default StartGame;","import React from 'react';\r\n\r\nconst GameRestart = ({ gameRestart }) => {\r\n  return (\r\n    <button className='game__button game__button_restart' onClick={gameRestart}>\r\n      Начать заново\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default GameRestart;","import React, { useContext } from 'react';\r\nimport Context from \"../Context/Context\";\r\n\r\nconst GameResultItem = ({ id, number, name, move }) => {\r\n  const { deleteResult } = useContext(Context)\r\n  let style\r\n\r\n  switch (number) {\r\n    case 1:\r\n      style = { color:'gold', fontWeight:700 }\r\n      break\r\n    case 2:\r\n      style = { color:'silver', fontWeight:700 }\r\n      break\r\n    case 3:\r\n      style = { color:'#cd7f32', fontWeight:700 }\r\n      break\r\n  }\r\n\r\n  return (\r\n    <li className='game__result-item'>\r\n      <span>{number})</span>\r\n      <span style={style}>{name}</span>\r\n      <span>{move} ходов</span>\r\n      <button className='button-delete' onClick={ () => deleteResult(id) }>Удалить результат</button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default GameResultItem;","import React from 'react';\r\nimport GameResultItem from \"./GameResultItem\";\r\n\r\nconst GameResult = ({ gameResult, deleteAllResult }) => {\r\n  return (\r\n    <div className='game__result'>\r\n      <h2 className='game__result-title'>Таблица результатов</h2>\r\n\r\n      <ul className='game__result-list'>\r\n        {\r\n          gameResult.length\r\n            ? gameResult.map((item, index) => {\r\n              return <GameResultItem key={item.id} id={item.id} number={index + 1} name={item.name} move={item.move}/>\r\n            })\r\n            : <h2 className='game__result-title'>Результатов нет</h2>\r\n        }\r\n      </ul>\r\n\r\n      <button className='button-delete button-delete-all' onClick={deleteAllResult}>\r\n        Удалить все результаты\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameResult;\r\n","import React, { useState } from 'react';\r\n\r\nconst Modal = ({ addResult }) => {\r\n  const [name, setName] = useState('')\r\n\r\n  function formHandler(e) {\r\n    e.preventDefault()\r\n    addResult(name)\r\n    setName('')\r\n  }\r\n\r\n  const inputHandler = e => setName(e.target.value)\r\n\r\n  return (\r\n    <div className='game-end-modal modal'>\r\n      <div className='modal-container'>\r\n\r\n        <h1 className='game-end-message modal__title'>\r\n          Вы закончили игру!\r\n        </h1>\r\n\r\n        <form className='game-end-form modal__form' onSubmit={formHandler}>\r\n          <input type=\"text\" value={name} autoFocus={true} onChange={inputHandler} placeholder='Введите свое имя'/>\r\n          <button className='game__button'>\r\n            Отправить\r\n          </button>\r\n        </form>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;","import { useEffect, useState } from \"react\";\n\nimport CardList from \"./Components/GameCard/CardList\";\nimport StartGame from \"./Components/GameStart/StartGame\";\nimport GameRestart from \"./Components/GameStart/GameRestart\";\nimport GameResult from \"./Components/GameResult/GameResult\";\nimport Modal from \"./Components/Modal/Modal\";\nimport Context from \"./Components/Context/Context\";\n\n\nfunction shuffle(array) {\n  for (let i = array.length - 1; i > 0; i--) {\n    let j = Math.floor(Math.random() * (i + 1));\n\n    [array[i], array[j]] = [array[j], array[i]];\n  }\n\n  return array\n}\n\n\nfunction App() {\n  const img = ['1.png', '2.png', '3.png', '4.png', '5.png', '6.png', '7.png', '8.png']\n  const [imgSrc, setImgSrc] = useState(() => [...shuffle(img), ...shuffle(img)] )\n  const [gameState, setGameState] = useState(imgSrc.map((src, index) => {\n    return { id: index + 1, src: src, style: { background:'#1E90FF' }, disabled: false }\n  }))\n  const [startGame, setStartGame] = useState(false)\n  const [endGame, setEndGame] = useState(false)\n  const [activeCard, setActiveCard] = useState([])\n  const [guessedCard, setGuessedCard] = useState(0)\n  const [listPointerStyle, setListPointerStyle] = useState({})\n  const [moveCount, setMoveCount] = useState(0)\n  const [gameResult, setGameResult] = useState(JSON.parse(localStorage.gameResult) || [])\n  const [modal, setModal] = useState(false)\n\n\n  useEffect(() => {\n    localStorage.setItem('gameResult', JSON.stringify(gameResult))\n  }, [gameResult])\n\n  useEffect(() => {\n    if (activeCard.length === 2){\n      setMoveCount(prev => prev + 1)\n\n      if (activeCard[0] === activeCard[1]){\n        setGuessedCard(prev => prev + 1)\n        setGameState(\n          prev => prev.map(\n            item => activeCard.includes(item.src)\n              ? { ...item, style:{ ...item.style, border:'3px green solid' } }\n              : item\n          )\n        )\n      } else {\n        setTimeout(() =>{\n          setGameState(\n            prev => prev.map(\n              item => activeCard.includes(item.src)\n                ? { ...item, style:{ background:'#1E90FF', transform:'none' }, disabled: false }\n                : item\n            )\n          )\n\n          setListPointerStyle({})\n        }, 1000)\n\n        setListPointerStyle({ pointerEvents: 'none' })\n      }\n\n      setActiveCard([])\n    }\n\n  }, [activeCard])\n\n  useEffect(() => {\n    if (guessedCard === gameState.length / 2) {\n      setTimeout(()=> {\n        setModal(true)\n      }, 2000)\n\n      setGuessedCard(0)\n    }\n  }, [guessedCard])\n\n\n  function checkActiveCard(cardId, src) {\n    setGameState(\n      prev => prev.map(\n        item => item.id === cardId\n          ? { ...item, style:{ background:'none', transform:'scaleX(-1)' }, disabled:true }\n          : item\n      )\n    )\n\n    setActiveCard([...activeCard, src])\n  }\n\n  function gameRestart() {\n    let newImg\n\n    setImgSrc( newImg = [...shuffle(img), ...shuffle(img)] )\n    setGameState(\n      newImg.map((src, index) => {\n        return { id: index + 1, src: src, style:{ background:'#1E90FF' }, disabled:false }\n      })\n    )\n    setEndGame(false)\n    setMoveCount(0)\n  }\n\n  function addResult(name) {\n    setModal(false)\n    setEndGame(true)\n    setGameResult(\n      prev => [...prev, { move: moveCount, name: name ? name : 'unnamed', id: new Date() }]\n      .sort((a, b) => a.move - b.move)\n    )\n  }\n\n  const deleteResult = id => setGameResult( prev => prev.filter(item => item.id !== id) )\n\n  const deleteAllResult = () => setGameResult([])\n\n\n  return (\n    <div className=\"App\">\n      <Context.Provider value={{ checkActiveCard, deleteResult }}>\n\n        {\n          modal ? <Modal addResult={addResult}/>: null\n        }\n\n        {\n          !startGame ? <StartGame setStartGame={setStartGame}/> : null\n        }\n\n        {\n          startGame && !endGame? <CardList gameState={gameState} style={listPointerStyle}/> : null\n        }\n\n        {\n          endGame\n            ?\n            <>\n              <GameResult gameResult={gameResult} deleteAllResult={deleteAllResult}/>\n              <GameRestart gameRestart={gameRestart}/>\n            </>\n            : null\n        }\n\n      </Context.Provider>\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}